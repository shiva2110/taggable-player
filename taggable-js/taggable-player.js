
var speechfErr  = "The taggable-container class not following expected syntax.";



var progressBarHeight = 13;
var progressSliderWidth = 17;
var defaultMediaWidth = "300";
var currentSearchQuery = "";
var currentIndexTime = "";
var indexSpan =  15; //15 sec
//var indexURI = "http://ec2-54-235-225-226.compute-1.amazonaws.com/speechf-web";
//var indexURI = "http://ec2-54-235-225-226.compute-1.amazonaws.com/speechf-web";
var indexURI = "http://localhost:8080/speechf-web";
var globalPropsMap = [];
var resultColorMap = [];
resultColorMap[0] = "#FF0000";
resultColorMap[1] = "#FF1919";
resultColorMap[2] = "#FF3333";
resultColorMap[3] = "#FF6666";
resultColorMap[4] = "#FF4D4D";
resultColorMap[5] = "#FF6666";
resultColorMap[6] = "#FF8080";
resultColorMap[7] = "#FF9999";
resultColorMap[8] = "#FFB2B2";
resultColorMap[9] = "#FFCCCC";
var mediaIndexKey = 0;
var playhoverimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAYAAAACsSQRAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAASBJREFUOBGtUzFqhUAQnUQQvILFHkDQLmVyBkvtLExrEchJbDyCFoIIlgreQWxsrVJbKEQns8Iu+qM//4c/8HaW2Zm3bxgGEJERKsI34R77ouR3AgAdnOC/tlDhyzMAvBFW6/sebNuGJElgWRYRvuaf6PGVK5GW5zlpgxWGYWAcxzjPs3w/uXxyJb/M930YhgEcxwHTNP9Udkjiui50XQdRFN1GtpUo2inLUoanaUIiQ8aYbLOua/lOl+N2tv2pqgqe50EQBKAoCrRtC1mWbVPWEUvWSyXjOGIYhqjr+qrCsixM0xRpcrKGKzmcTlEUtxQLomMSTdOu/SyKhd+TVFV1T/GOZLczTdNc9iySz/zHQ3aHkzACX8KdorNvN3G5xT+XEbrYT5SjCAAAAABJRU5ErkJggg==";
var sliderimg = "data:image/png;base64,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";
var playimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAYAAAACsSQRAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAAVBJREFUOBGVk7FuwjAQhn+bMPAOURV4iU4pqrJEDBl4Aaos3ZBQx0ZiyGN06RDmTFkT1MLUiZkBMUfMSCglPUcYycGt3JPi053v/3yR7thqtbqrquq9rusHAB36jIwxVlLh63A4fGPL5TInwKORslVEoJpS9/zSQXNdliWiKEKe5zifzy3JbUhaRlmX03H9he12i/V6jTiOEYahKawjIDc2Go1wPB6NYVqI53lIkgSz2cwIpoWI1rrdLoIg0MI2m43S/a8QWSVgvu9jPB6Dc479fg8aC3ndeEuJWsHpdEKWZVgsFjgcDhgMBphMJnBdV6nUQoQ4TVNFPJ1OGzHNhgIQgRYyn88hQOLlv8SSpkB6vV6Tt2372rbuZSmWnhVFUVFwHbjdbgfHcWAiFhCqe+F0fEii8P1+/z8AsTuf3LKsJwIVFHwLiKmRRmzxM23x1w/pU42iEYtT5QAAAABJRU5ErkJggg==";
var pausehoverimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAYAAAACsSQRAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAAPFJREFUOBHtkzsOgzAMhh0IYuYCTMyIperE0GswsPUCPQp3YYVDcAQmOjAwIRSS2lFjKW2Xoo619BPzxY8QEjDGpKgOpVDf2B2DrygQ+OgA4IKCfd9pYBNCAElrzYwcYkEQkGtQZ8AidgXjOBLwVBSFadvWYxRT1zWmsd2oXIiyliQJrOtq1fe9w1CWJfOmaZg/nVC+kjiOLYqiiKdo6Z+4C7Af5l6Ojv8i7zv3kz3xfjEeH5imybaa55lbbtvGfFkW5s6hInTWQzrKSinIsszNQZ7nIKWEYRg8XlUVx9h87E6X76hpTDzR3UlRVOjwLX4AkWshXIM39xsAAAAASUVORK5CYII=";
var pauseimg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAPCAYAAAACsSQRAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAARVJREFUOBHtUzFqhUAQndVFUFJ6AgVvYaLlwm8tcgNBzDnMAWxT5ga/Viy9h5WFHwRFjJqZhV0iSfEhTYoMzM7s25md3eENq6rKZYy9AYA4joOjvUsw54bxr1EUFayu63fcPN+V+UOQaZoXjhc80lnf95CmKWAFHep5HiRJAkVRnPA4jiHLMhm37/uTgZ78wrZtQNq2rdSyLGEcR1jXFXzf13ie5zBNky6EjnnqgWEYQNVJuq6TlhbbtjXuuq7GlUMv+bX8X/K9hX+nJ8STD/XAYRgAaSy3yGQIgkD6TdNoHBkKQgiVQnbTs0NJ8zx/PZRUtywLlmU54ZxzIJxEzc4LzssDqnAc58RglYm4crVVUxyG4fUTFUVpZN2kb0UAAAAASUVORK5CYII=";
var minscreenimg = "data:image/png;base64,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";
var writeHighlightImg = "data:image/png;base64,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";
var writeButtonImg = "data:image/png;base64,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";
var writeClickedImg = "data:image/png;base64,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";
var searchButtonImg = "data:image/png;base64,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";
var searchHighlightImg = "data:image/png;base64,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";
var searchClickedImg = "data:image/png;base64,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";
var snippetImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAAA9CAYAAACunUfbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAJdSURBVHhe7dw9a1phGMZxx36Ejh07djOzg4uLkxQXP4IZHDppcVEEqbh0UAwuBsFFQRGXCiKIFg++pi7tEEgyJCSQkL7T5pYapNxpDvGknMtzDb8MDznPA88/Od6TrsVi8YvsqV6vv43FYq5lpG63+zWZTB6RPeTz+VPp0mw2924jVavVS7fb/Z7sIRQKfWAkm2MkAIwEgJEAMBIARgLASAAYCQAjAWAkAIwEgJEAMBIARgLASAAYCQAjAWAkAIwEgJEAMBIARgLASAAYCQAjAWAkAIwEgJEAMBIARgLASAAYCQAjAWAkAIwEgJEAMBIARgLASAAYCQAjAWAkAIwEgJEAqJGs+JauQCAw0w60is/nG2vnbiP1W7qsMJ1Of0YikU/aBW8qHA5/NAzju3buNrv9vrtCofCyUqm83oRstto4m82eaBf9ULLfam/5y9LO31apVOrZMpL8sILEns/nn+UyS6XSucfjMbRLN8vr9Y4ajcaV7DeZTM5zuZxfO9cJ1MWHymQyL0aj0bFcbKvVupbPES3AfYLB4EG/3/8m+wwGg4N0Ov1cO88p1MVNJBKJp71ez5ALHg6HP+TCtRB3iUajh/Lsn9D78Xj8iXaOk6iLm5KLlQuWizY7UMjrsVgsnskzs9nsy80rc1fb24nURavIh9/qv+JfA4Xf75+22+3l55m8Lm9+d0fbz6nURSvdN1Csj9edTuedvC61fZxMXbTaXQPF+nhdq9XeaM/Sf4ok/h4oVuP1eDy+cPJ4bYa6+FjWBwrB8docdfGxlcvlV/J643htjrpIdhJz/QYoc7fwWmnlWAAAAABJRU5ErkJggg==";
var taggedImg = "data:image/png;base64,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";
var searchBoxDividerImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAQCAIAAABV4/KnAAAKsGlDQ1BJQ0MgUHJvZmlsZQAASA2tlndUU8kex+fe9EZLCEVK6B3pVXoNRXq1EZJAQokhEEBsqCyu4FoQEcEGutIUXJUia0EsiLoIKmBfkEVFWRcLoqLybuAR95339r8358zcT373m9/M/c3MOV8AyOUsoTANlgMgXZAlCvfzZMTGxTNwjwEEiIAGdAGWxc4UeoSGBoF/bB8GEDXS7phJcv2j7H+/kOdwM9kAQKHI60ROJjsd4dNIz2cLRVkAoGyQuG5OllDCsQjTRMgCEZbMQ0ue43wJJ85x6awmMtwL0dQCgCezWKJkAEinkTgjm52M5CHdRdhCwOELACCjEXZl81gchL0RNk1PXylhIcKGiX/Lk/w3ZrESpTlZrGQpz30L8k9kYm9+pjCNtWr2x/9zSE8TI/WabRrISM5MjQhEnnikZrlslk/EPPO4TMmezcaFWZ7h88zPYkbOM0/sHzXP4tQoj3lOXRko1QsSF4fMx9mZXkjt53Lm8SJj5pnD9faZZ9HKcKk+MztCGs/jeS2e16SwAiT7Pbs2lgihfzM3zU86rzArVLpOQdpi6bckiXylGm7m9+/N4kX6z+fJEkVKNUl8X+Z8nCfyl8aFabNnenYNInG4tA5cQZS0hhyWt7S2gA+CAQuws7i5yBkCwGulcJWIn8zLYnggp55rymAK2OamDCsLS2sguUMSDQDv6LN3A6Jf/x7L6ADAsQjZL8nxZUhUALB0ADjzDADqh+8xnbfI9u4A4FwvWyzKntNJjivAIHdTFrmdKkAD6ABDYAasgB1wBu7ABwSAEBAJ4sBywAY8kA5EIAesARtAISgGO8BuUAEOgsOgFhwHJ0ErOAsugqvgBugF/eAhGAKj4BWYAB/ANARBOIgCUSEVSBPSg0wgK8gBcoV8oCAoHIqDEqBkSACJoTXQJqgYKoEqoCqoDvoFOgNdhLqhPug+NAyNQW+hzzAKJsM0WB3WhxfCDrAHHAhHwsvgZDgDzoML4G1wOVwNH4Nb4IvwDbgfHoJfwZMogCKh6CgtlBnKAeWFCkHFo5JQItQ6VBGqDFWNakS1o7pQd1BDqHHUJzQWTUUz0GZoZ7Q/OgrNRmeg16G3oivQtegW9GX0HfQwegL9DUPBqGFMME4YJiYWk4zJwRRiyjBHMc2YK5h+zCjmAxaLpWMNsPZYf2wcNgW7GrsVux/bhO3A9mFHsJM4HE4FZ4JzwYXgWLgsXCFuL+4Y7gLuNm4U9xFPwmvirfC++Hi8AL8RX4avx5/H38Y/x08T5Ah6BCdCCIFDWEXYTjhCaCfcIowSponyRAOiCzGSmELcQCwnNhKvEB8R35FIJG2SIymMxCflk8pJJ0jXSMOkT2QFsjHZi7yULCZvI9eQO8j3ye8oFIo+xZ0ST8mibKPUUS5RnlA+ylBlzGWYMhyZ9TKVMi0yt2VeyxJk9WQ9ZJfL5smWyZ6SvSU7LkeQ05fzkmPJrZOrlDsjNyg3KU+Vt5QPkU+X3ypfL98t/0IBp6Cv4KPAUShQOKxwSWGEiqLqUL2obOom6hHqFeooDUszoDFpKbRi2nFaD21CUUHRRjFaMVexUvGc4hAdRdenM+lp9O30k/QB+mcldSUPJa7SFqVGpdtKU8oLlN2VucpFyk3K/cqfVRgqPiqpKjtVWlUeq6JVjVXDVHNUD6heUR1fQFvgvIC9oGjByQUP1GA1Y7VwtdVqh9Vuqk2qa6j7qQvV96pfUh/XoGu4a6RolGqc1xjTpGq6avI1SzUvaL5kKDI8GGmMcsZlxoSWmpa/llirSqtHa1rbQDtKe6N2k/ZjHaKOg06STqlOp86ErqZusO4a3QbdB3oEPQc9nt4evS69KX0D/Rj9zfqt+i8MlA2YBnkGDQaPDCmGboYZhtWGd42wRg5GqUb7jXqNYWNbY55xpfEtE9jEzoRvst+kzxRj6mgqMK02HTQjm3mYZZs1mA2b082DzDeat5q/Xqi7MH7hzoVdC79Z2FqkWRyxeGipYBlgudGy3fKtlbEV26rS6q41xdrXer11m/UbGxMbrs0Bm3u2VNtg2822nbZf7eztRHaNdmP2uvYJ9vvsBx1oDqEOWx2uOWIcPR3XO551/ORk55TldNLpL2cz51TneucXiwwWcRcdWTTiou3CcqlyGXJluCa4HnIdctNyY7lVuz1113HnuB91f+5h5JHicczjtaeFp8iz2XPKy8lrrVeHN8rbz7vIu8dHwSfKp8Lnia+2b7Jvg++En63far8Of4x/oP9O/0GmOpPNrGNOBNgHrA24HEgOjAisCHwaZBwkCmoPhoMDgncFP1qst1iwuDUEhDBDdoU8DjUIzQj9NQwbFhpWGfYs3DJ8TXhXBDViRUR9xIdIz8jtkQ+jDKPEUZ3RstFLo+uip2K8Y0pihmIXxq6NvRGnGsePa4vHxUfHH42fXOKzZPeS0aW2SwuXDiwzWJa7rHu56vK05edWyK5grTiVgEmISahP+MIKYVWzJhOZifsSJ9he7D3sVxx3TilnjOvCLeE+T3JJKkl6keySvCt5jOfGK+ON8734Ffw3Kf4pB1OmUkNSa1Jn0mLSmtLx6QnpZwQKglTB5ZUaK3NX9glNhIXCoQynjN0ZE6JA0dFMKHNZZlsWDTErN8WG4h/Ew9mu2ZXZH3Oic07lyucKcm+uMl61ZdXzPN+8n1ejV7NXd67RWrNhzfBaj7VV66B1ies61+usL1g/mu+XX7uBuCF1w28bLTaWbHy/KWZTe4F6QX7ByA9+PzQUyhSKCgc3O28++CP6R/6PPVust+zd8q2IU3S92KK4rPjLVvbW6z9Z/lT+08y2pG092+22H9iB3SHYMbDTbWdtiXxJXsnIruBdLaWM0qLS97tX7O4usyk7uIe4R7xnqDyovG2v7t4de79U8Cr6Kz0rm/ap7duyb2o/Z//tA+4HGg+qHyw++PkQ/9C9Kr+qlmr96rLD2MPZh58diT7S9bPDz3VHVY8WH/1aI6gZqg2vvVxnX1dXr1a/vQFuEDeMHVt6rPe49/G2RrPGqiZ6U/EJcEJ84uUvCb8MnAw82XnK4VTjab3T+5qpzUUtUMuqlolWXutQW1xb35mAM53tzu3Nv5r/WnNW62zlOcVz288Tzxecn7mQd2GyQ9gxfjH54kjnis6Hl2Iv3b0cdrnnSuCVa1d9r17q8ui6cM3l2tlup+4z1x2ut96wu9Fy0/Zm82+2vzX32PW03LK/1dbr2Nvet6jv/G232xfveN+5epd590b/4v6+gaiBe4NLB4fuce69uJ92/82D7AfTD/MfYR4VPZZ7XPZE7Un170a/Nw3ZDZ0b9h6++TTi6cMR9sirPzL/+DJa8IzyrOy55vO6F1Yvzo75jvW+XPJy9JXw1fR44Z/yf+57bfj69F/uf92ciJ0YfSN6M/N26zuVdzXvbd53ToZOPvmQ/mF6quijysfaTw6fuj7HfH4+nfMF96X8q9HX9m+B3x7NpM/MCFki1qwXQCEjnJQEwNsaAChxiHfoBYAoM+dxZxXQnC9HWOLPZz36f/OcD57V2wFQ4w5AVD4AQR0AHEC6HsJk5Cmxa5HuALa2lnYkImmZSdZWswCRRYg1+Tgz804dAFw7AF9FMzPT+2dmvh5BvPh9ADoy5ry1RI2VA+AQWULdBhIb+5/tX0aa8IbwiFGAAAAAQElEQVQYGWP8////379/P3z4AGQICgoyMzMzMDAwATEQAIXgJJABFQXJIIFRUUhgsAApJiYmbm5uYLBBghEoAgDbFxVGU9AZmwAAAABJRU5ErkJggg==";
var timerImg = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAjCAYAAAA9guKMAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAAU1JREFUWAntlLFug0AMhnv0VCSWThnoGgkhxIQyZMuSN6j6AhnzPunIC1R9iGyZmBDiCTKkUxekRARqRzorYgmUi6xIvuV85mz/9geoIAjapwderutOnQfWT9KlCRoFsyEkmAFQeSFBo2A2hAQzACovJGgUzIaQYAZA5YUEjYLZEBLMAKi8kKBRMBtCghkAlRcSNApmQ0gwA6DyQoJGwWxoqH/4pwbdtu2rUup5aDzEnSHuF+LqobHd+3VdnxUk7Pp7n5MkmVRV9QU5Fn2DQPzW87yPLMt++sbcujfqm0Ahvu8vHcfZ3CqEz/Ee3rfZAOYdRQITmBWG4QqIfMLZNb6r/QgE1mVZplc+a6a1JlBRFEXzpmm+oZk3oxDE74HAe1EUO+OzvY96nbpiUCgInoHfCL6c79kAarBKwjQVx/EL/DVWWus0z/OT8d9r/wN7vlZS37DkFQAAAABJRU5ErkJggg==";
var fullscreenimg = "data:image/png;base64,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";
var fullscrhoverimg = "data:image/png;base64,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";
var imgData;
var screenH = screen.height-100; //full screen height
var screenW = screen.width; //full screen width
var DEFAULT_INDEX = "Enter index here";
var OAuthStates = {"DECLINED":"declined", "ACCEPTED":"accepted", "WAITING":"waiting"};
var OAuthProp = {};

var replaceWithSuperParent = function(userObj, superParent){
	$(userObj).replaceWith(superParent);
};


$(window).load(function() {
	
	

	$("[data-player='taggable']").each(function() {

		//check if this element is either audio or video
		if(this.tagName!="VIDEO" && this.tagName!="AUDIO") {
			return;
		}

		var propsMap = deriveProperties(this);
		if(propsMap==null) {
			return;
		}		
		createSuperParent(this, propsMap, replaceWithSuperParent);
		globalPropsMap[mediaIndexKey] = propsMap;		
		mediaIndexKey++;
		console.log("done with player init");
	});	
	
	//requestUserID(OAuthProp);
	
	$(".tagabl-canvas").bind("mousedown", canvasMouseDown);

	$(".tagabl-canvas").bind("mouseup", canvasMouseUp);
	
	$(".tagabl-canvas").mouseover(function(e) {
		$(this).css("cursor", "crosshair");		
	});

	$(".speechf-fullscreen").mouseenter(function() {
		$(this).attr("src", fullscrhoverimg);
	});
	
	$(".speechf-fullscreen").mouseout(function() {
		$(this).attr("src", fullscreenimg);
	});
	
	$(".speechf-fullscreen").click(function() {

		if($(this).attr("title")=="fullscreen") {
			fullscreen($(this));
		} else if($(this).attr("title")=="minscreen") {
			minscreen($(this));
		}

	});
	
	$(".progress-bar").mousemove(function(e){
		var timetag = getNearbyElement(".tagabl-timetag", $(this));
		for(var i=0; i<timetag.length; i++){
			$(timetag[i]).remove();
		}
		
		var mouseX = e.offsetX;
		var controlsBase = getNearbyElement(".controls-base", $(this));	
		var top = controlsBase.position().top -10;
		var left = mouseX;		
		var progressBarWidth = jQuery.data($(this)[0], "origWidth");
		if((left + 20)>progressBarWidth) {
			left = left - (left + 20 - progressBarWidth) - 2;
		} else if (left<=2) {
			left = 2;
		}
		
		var absoluteLeft = left + $(this).position().left;
		timetag = createTimeTag({"x": absoluteLeft, "y":top}, "Enter notes here");
				
		$(controlsBase).before(timetag);
	});
	
	$(".progress-bar").mouseout(function(){
		var timetag = getNearbyElement(".tagabl-timetag", $(this));
		for(var i=0; i<timetag.length; i++){
			$(timetag[i]).fadeOut();
		}
	});
	
	$(".progress-bar").click(function(e){
		var mouseX = e.offsetX;
		var superParent = $(this).parents(".taggable-container");	
		var progressBarWidth = jQuery.data(this, "origWidth");
		var percentage = mouseX/progressBarWidth;
		var mediaElement = getNearbyMediaElement($(this));	

		if(!mediaElement) {
			return;
		}

		var mediaDuration =  $(mediaElement)[0].duration;
		$(mediaElement)[0].currentTime = (percentage*mediaDuration);

	});	
	
	$(".speechf-playbutton").mouseenter(function(){
		if($(this).attr("title")=="play"){
			$(this).attr("src", playhoverimg);
		} else {
			$(this).attr("src", pausehoverimg);
		}
		
	});
	
	$(".speechf-playbutton").mouseout(function(){
		if($(this).attr("title")=="play"){
			$(this).attr("src", playimg);
		} else {
			$(this).attr("src", pauseimg);
		}
		
	});

	$(".speechf-playbutton").click(function() {	

		//if this component is not speechf component, then return back.
		if(!isSpeechfComponent($(this))) {
			return;
		}

		var title = $(this).prop("title");
		var mediaElement = getNearbyMediaElement($(this));	

		if(!mediaElement) {
			return;
		}

		if(title.indexOf("play")!=-1) {
			$(this).prop("src",  pauseimg);
			$(this).prop("title", "pause");
			mediaElement[0].play();
		} else {
			$(this).prop("src",  playimg);
			$(this).prop("title", "play");
			mediaElement[0].pause();			
		}		
	});

	$(".speechf-writeButton").mousemove(function() {
		if($(this).attr("title").indexOf("writeButton")!=-1) {
			$(this).css("background", "url(" + writeHighlightImg +") no-repeat top left");
			$(this).attr("title", "writeHighlight");
		}
	});

	$(".speechf-writeButton").mouseout(function() {
		if($(this).attr("title").indexOf("writeHighlight")!=-1) {
			$(this).css("background", "url(" + writeButtonImg + ") no-repeat top left");
			$(this).attr("title", "writeButton");
		}
	});

	$(".speechf-writeButton").click(function() {
		// change to write clicked
		$(this).css("background", "url(" + writeClickedImg + ") no-repeat top left");
		$(this).attr("title", "writeClicked");

		//enable search toggle
		var searchButton =  getNearbyElement(".speechf-searchButton", $(this));
		searchButton.css("background", "url(" + searchButtonImg + ") no-repeat center left");
		searchButton.attr("title", "searchButton");

		var textBox =  getNearbyElement(".speechf-searchText", $(this));



		//display default text
		var mediaElement = getNearbyMediaElement($(this));	
		var currentTime = $(mediaElement)[0].currentTime;
		currentIndexTime = currentTime;
		var currentTimeMin = getMinutes(currentTime);	
		//capture searchQuery if any
		if(textBox[0].value.length===0 || textBox[0].value.indexOf("Tag at")!=-1 || textBox[0].value.indexOf("Enter your search terms")!=-1) {
			displayTextForWrite(currentTimeMin, textBox);
		} else {
			currentSearchQuery = textBox[0].value;	
		}


		//hide search results and snippets
		var results = getNearbyElement("[class|='speechfresult']", $(this));
		var snippets = getNearbyElement("[class|='speechfsnippet']", $(this));

		var jObj;
		for(i=0; i<results.length; i++) {
			jObj = $(results[i]);
			jObj.hide();
		}
		for(i=0; i<snippets.length; i++) {
			jObj = $(snippets[i]);
			jObj.hide();
		}

		// remove earlier write index time bar if any
		var writeBars = getNearbyElement(".speechf-writebar", $(this));
		for(i=0; i<writeBars.length; i++) {
			jObj = $(writeBars[i]);
			jObj.remove();
		}

		var indexedMes = getNearbyElement(".speechf-indexedMes", $(this));
		for(i=0; i<indexedMes.length; i++) {
			jObj = $(indexedMes[i]);
			jObj.remove();
		}

		//show write index time bar
		var percentage = currentTime/$(mediaElement)[0].duration;
		var superParent = $(this).parents(".taggable-container");
		//var propsMap = globalPropsMap[superParent.attr("data-props")];
		var progressBarWidth = superParent.css("width");
		progressBarWidth = progressBarWidth.replace("px", "");
		var left = percentage * (progressBarWidth);

		percentage = indexSpan/$(mediaElement)[0].duration;			 
		var width = percentage * (progressBarWidth);

		if((left+width) > progressBarWidth) {
			width = progressBarWidth - left;
		}
		var writeBar = $("<div class='speechf-writebar' style='height:" + progressBarHeight + "; width:" + width + "; background-color:#FF0000; opacity:0.4; left:" + left + "; float:left; position:absolute'></div>");
		writeBar.appendTo(getNearbyElement(".progress-bar", $(this)));

	});

	$(".speechf-searchButton").mousemove(function() {
		if($(this).attr("title").indexOf("searchButton")!=-1) {
			$(this).css("background", "url(" + searchHighlightImg +") no-repeat top left");
			$(this).attr("title", "searchHighlight");
		}
	});

	$(".speechf-searchButton").mouseout(function() {
		if($(this).attr("title").indexOf("searchHighlight")!=-1) {
			$(this).css("background", "url(" + searchButtonImg + ") no-repeat center left");
			$(this).attr("title", "searchButton");
		}
	});

	$(".speechf-searchButton").click(function() {	
		//change to search clicked
		$(this).css("background", "url(" + searchClickedImg + ") no-repeat top left");
		$(this).attr("title", "searchClicked");

		//enable write toggle
		var writeButton =  getNearbyElement(".speechf-writeButton", $(this));
		writeButton.css("background", "url(" + writeButtonImg +") no-repeat top left");
		writeButton.attr("title", "writeButton");

		//remove write bars if any
		var writeBars = getNearbyElement(".speechf-writebar", $(this));
		var jObj;
		for(i=0; i<writeBars.length; i++) {
			jObj = $(writeBars[i]);
			jObj.remove();
		}		

		var indexedMes = getNearbyElement(".speechf-indexedMes", $(this));
		for(i=0; i<indexedMes.length; i++) {
			jObj = $(indexedMes[i]);
			jObj.remove();
		}

		//display default text
		var textBox =  getNearbyElement(".speechf-searchText", $(this));
		if(currentSearchQuery.length!==0 && currentSearchQuery.indexOf("Tag at")==-1) {
			textBox[0].value = currentSearchQuery;
		} else {
			displayTextForSearch(textBox);	
		}

		//show earlier search results and snippets
		var results = getNearbyElement("[class|='speechfresult']", $(this));

		for(i=0; i<results.length; i++) {
			jObj = $(results[i]);
			jObj.show();
		}
	});

	$(".taggable-audio").each(function(){
		addMediaEvents(this);
	});


	$(".taggable-video").each(function(){
		addMediaEvents(this);
	});

	$(document).bind("webkitfullscreenchange", function(e) {
		if(document.webkitIsFullScreen===false) {
			var superParent = $(e.srcElement);
			if(superParent===undefined || superParent[0].className.indexOf("taggable-container")==-1) {
				return;
			}

			var minscreenButton  = superParent.find(".speechf-fullscreen");
			minscreen(minscreenButton);
		}
	});



	// have search button clicked as default
	$(".speechf-searchButton").click(); 
	
	
	$(".taggable-container").click(function(e){		
			//when notes is clicked, the user is trying to write notes
			//make sure notesType is updated to indicate whether it is "new" or "update"
			var notes;
			if(e.target.className=="tagabl-notes"){
				notes = e.target;
			} else if(e.target.className=="tagabl-closeTag") {
				closeContentTag($(e.target));
			} else {
				var parents = $(e.target).parent(".tagabl-notes");
				if(parents.length!=0){
					notes = parents[0];
				}
			}			
			if(notes != undefined) {
				if(jQuery.data(notes, "notesType")== "cached") {
					jQuery.data(notes, "notesType", "cached-updated");
				} else if(jQuery.data(notes, "notesType")== "archived") {
					jQuery.data(notes, "notesType", "archived-updated");
				}
			}			
	});
	
	$(".taggable-container").on("mouseenter", ".tagabl-canvas", function(e){
		var superParent = $(this).parents(".taggable-container");
		
		//index notes if any
		var canvas = superParent.find(".tagabl-canvas");
		indexContentNotes(canvas);
		
		var propsMap = globalPropsMap[superParent.attr("id")];
		
		//remove canvas
		 if(e.target.className=="tagabl-canvas" || $(e.target).parent(".tagabl-canvas").length!=0) { 
			if(!propsMap.contentSelect.contentSelect){ // if click was propogated from canvas, then be careful about it. Remove the notes only if click is not propogated while selecting the content
				removeCanvasNotes(canvas);
			}
		} else { //if click was propogated from anywhere else, remove the notes
			removeCanvasNotes(canvas);	
		}
		 
		showAllContentTags(superParent);
	});
	
	$(".taggable-container").on("mouseout", ".tagabl-canvas", function(){
		var superParent = $(this).parents(".taggable-container");
		hideAllContentTags(superParent);
	});
	
	$(".taggable-container").on("mouseenter", ".tagabl-archivedtag, .tagabl-newtag", function(){
		var tags = getNearbyElement(".tagabl-archivedtag, .tagabl-newtag", $(this));
		for(var i=0; i<tags.length; i++){
			if(tags[i].id==$(this).attr("id") && $(tags[i]).attr("class")==$(this).attr("class")){
				$(tags[i]).show();
				var superParent = $(this).parents(".taggable-container");
				var propsMap = globalPropsMap[superParent.attr("id")];
				if($(this).attr("class")=="tagabl-newtag"){
					var canvas = superParent.find(".tagabl-canvas");
					var position = propsMap.contentSelect["list"][$(this).attr("id")].contentPos;
					displayContentNotes(canvas, position, propsMap.contentSelect["list"][$(this).attr("id")].notes, {"startTime":propsMap.contentSelect["list"][$(this).attr("id")].startTime, "endTime":propsMap.contentSelect["list"][$(this).attr("id")].endTime}, "cached", $(this).attr("id"));
				} else {
					fetchAndDisplayContentNotes(propsMap, tags[i].id, superParent);
				}
			} else {
				$(tags[i]).hide();
			}		
		}		
	});
		
	$(".taggable-container").on("mouseenter", ".tagabl-timetag", function(e){
		//get position
		
		var controlsBase = getNearbyElement(".controls-base", $(this));	
		var progressBar = getNearbyElement(".progress-bar", $(this));
		var mouseLeftPos = $(this).position().left;
		var position = {"x": (mouseLeftPos-35), "y": ($(this).position().top-30)};
		
		//create timetagtext
		$(this).remove();
	
		var percentage = mouseLeftPos/(jQuery.data(progressBar[0], "origWidth"));
		var mediaElm = getNearbyMediaElement(progressBar);
		var startTime = percentage * (mediaElm[0].duration);
		var endTime = startTime + 10;
		var indexMarker = createIndexMarker(controlsBase, mouseLeftPos, {"startTime":startTime, "endTime":endTime});
		createTimeTagText(position, controlsBase, DEFAULT_INDEX, "new",  {"startTime":startTime, "endTime":endTime}, indexMarker);
	});
	
	$(".taggable-container").on("mouseenter", ".tagabl-timetagtext", function(){
		$(this).stop(true, true).fadeIn();
	});
	
	$(".taggable-container").on("mouseout", ".tagabl-timetagtext", function(e){
		
		//index tag
		var textElm = $(this).find("textarea");
		var text = textElm[0].value;
		if(text!=null && text!="" && text!=DEFAULT_INDEX){	
			var indexTime = jQuery.data(this, "indexTime");
			indexTag(indexTime, text, $(this).parents(".taggable-container"));
		} else {
			jQuery.data(this, "indexMarkerObj").remove();
		}
		
		$(this).remove();		
	});
	
	$(".taggable-container").on("mouseenter", ".tagabl-indexMarker" , function(){
		var timeTag = getNearbyElement(".tagabl-timetag", $(this));
		for(var i=0; i<timeTag.length; i++){
			$(timeTag[i]).remove();
		}
		
		var timeTagText = getNearbyElement(".tagabl-timetagtext", $(this));
		for(var i=0; i<timeTagText.length; i++){
			$(timeTagText[i]).remove();
		}
		
		var mediaElm = getNearbyMediaElement($(this));
		var progressBar = getNearbyElement(".progress-bar", $(this));
		var controlsBase = getNearbyElement(".controls-base", $(this));
		var indexTime = jQuery.data(this, "indexTime");
		var leftPos = getIndexMarkerPosition((mediaElm[0].duration), indexTime.startTime, jQuery.data(progressBar[0], "origWidth"));		
		var indexTagPosition = {"x": (leftPos-35), "y": (controlsBase.position().top-40)};		
		fetchTag(indexTime,  $(this).parents(".taggable-container"), indexTagPosition, $(this))
	});
	
	$(".taggable-container").on("mouseout", ".tagabl-indexMarker" , function(){
		var timeTag = getNearbyElement(".tagabl-timetag", $(this));
		for(var i=0; i<timeTag.length; i++){
			$(timeTag[i]).remove();
		}
		
		var timeTagText = getNearbyElement(".tagabl-timetagtext", $(this));
		for(var i=0; i<timeTagText.length; i++){
			$(timeTagText[i]).fadeOut(400);
		}			 	
	});	
	
	$(".taggable-container").on("mouseout", ".taggable-container" , function(){
		var timeTag = getNearbyElement(".tagabl-timetag", $(this));
		for(var i=0; i<timeTag.length; i++){
			$(timeTag[i]).remove();
		}
	});
	
});

function closeContentTag(closeButton){
	var mediaElement =  getNearbyMediaElement(closeButton);
	var superParent = closeButton.parents(".taggable-container");
	var propsMap = globalPropsMap[superParent.attr("id")];
	var contentSelectIndex = closeButton.parent().attr("id");

	var contentSelects = propsMap.contentSelect["list"];
	var currentTime = mediaElement[0].currentTime;
	if(contentSelects[contentSelectIndex].startTime > currentTime) { //only if new start time is before
		contentSelects[contentSelectIndex].startTime = currentTime;
	}
	else if(contentSelects[contentSelectIndex].endTime < currentTime){  //only if new end time is after
		contentSelects[contentSelectIndex].endTime = currentTime;
	}
	
	callUpdateContentIndex(contentSelects[contentSelectIndex], propsMap);	
	closeButton.parent().remove();
}

function indexTag(indexTime, text, superParent){
	var propsMap = globalPropsMap[superParent.attr("id")];
	var posting = $.ajax({
		url: formIndexURL(indexURI, propsMap.domain, propsMap.mediasrc),
		data: "{\"keywords\":\"" + text +"\", " +
				"\"startTime\":\"" + indexTime.startTime + "\", " +
				"\"userId\":\"" + getComputedUserId(propsMap) + "\", " +
				"\"endTime\":\"" + indexTime.endTime + "\"}",
		type: "POST", 
		headers : {
			"Accept" : "*",
			"Content-Type" : "application/json"
		}
	});
}

function fetchTag(indexTime, superParent, indexTagPosition, indexTagMarker){
	var propsMap = globalPropsMap[superParent.attr("id")];
	var controlsBase = superParent.find(".controls-base");
	var posting = $.ajax({
		url: formSearchByFeildURL(indexURI, propsMap.domain, propsMap.mediasrc),
		type: "POST", 
		data: "[{\"fieldName\":\"START_TIME\",\"value\":\"" + indexTime.startTime + "\"}," +
				"{\"fieldName\":\"END_TIME\",\"value\":\"" + indexTime.endTime + "\"}, " +
				"{\"fieldName\":\"USER_ID\",\"value\":\"" + getComputedUserId(propsMap) + "\"}, " +
				 "{\"fieldName\":\"WORD\",\"value\":null}]",
		headers : {
			"Accept" : "*",
			"Content-Type" : "application/json"
		},
		success: function(json) {
			var text = null;
			for(var i=0; i<json.length; i++){
				for(var j=0; j<json[i].length; j++){
					if(json[i][j]["fieldName"]!=undefined && json[i][j]["fieldName"]=="WORD"){
						text = json[i][j]["value"];
						break;
					}		
				}
			}
			createTimeTagText(indexTagPosition, controlsBase, text, "archived-updated", indexTime, indexTagMarker);
		},
		error: function(json){
			console.log("error while fetching archived content tag");
		}
	});
}


function drawContentTag(canvas, contentTagPos, contentTagIndex, className){
	var absPos = getAbsolutePos(contentTagPos, canvas);	
	
	var div = $(
		"<div class='" + className +  "' id='" + contentTagIndex + "' style='border:1px solid 737373; background-color:#DBDBDB; opacity:0.3; left:" + absPos.x  + "; top:" + absPos.y + "; width:" + absPos.width + "; height:" + absPos.height + "; position:absolute; z-index:4;'>" +
		"</div>");

	var closePos = {};
	if(className=="tagabl-newtag" && absPos.height>=2 && absPos.width>=15){
		closePos["top"] = 2;
		closePos["left"] =  (absPos.width-15);
		div.append("<input class='tagabl-closeTag' type='image' src='closeSelect.png' style='position:absolute; top:" + closePos["top"] + ";left:" + closePos["left"] + "'></input>");
	}
	
	var controlsBase = getNearbyElement(".controls-base", canvas);
	controlsBase.before(div);
}

function removeContentTag(canvas, contentTagIndex, className){
	var div = getNearbyElement(className, canvas);
	for(var i=0;i<div.length; i++){
		if($(div[i]).attr("id") == contentTagIndex){
			$(div[i]).remove();
		}		
	}
}

function hideAllContentTags(superParent){
	var div = superParent.find(".tagabl-archivedtag, .tagabl-newtag");
	for(var i=0;i<div.length; i++){
			$(div[i]).hide();
	}
}

function showAllContentTags(superParent){
	var div = superParent.find(".tagabl-archivedtag, .tagabl-newtag");
	for(var i=0;i<div.length; i++){
			$(div[i]).show();
	}
}

/**
 * Takes any obj withing taggable data player and changes the stroke color of content select by setting the property propsMap.contentStroke
 * @param obj
 */
function changeStrokeColor(obj, propsMap){
	var rgb = getAvgColor(obj);
	if(rgb==undefined || rgb.length==0){
		return;
	}
	rgb = getComplementColor(rgb);
	propsMap.contentSelect.contentStroke = rgb;
}

/**
 * Takes any obj withing taggable data player and gets the average RGB values of the current video frame
 * @param obj
 */
function getAvgColor(obj){
	var mediaElement = getNearbyMediaElement(obj);	
	//if not video return
	if(mediaElement.attr("class")!="taggable-video") {
		return;
	}
	
	var canvas = $('<canvas />').attr({
        width: mediaElement.attr("width"),
        height: mediaElement.attr("height")
    })[0];
	var context = canvas.getContext('2d');
	context.drawImage(mediaElement[0], 0, 0, canvas.width, canvas.height);
	var data = context.getImageData(0,0,canvas.width, canvas.height).data;
	var rgb = new Array(0, 0, 0, 0);
	for(var i = 0; i < data.length; i+=4)
    {
		rgb[0] = rgb[0] + data[i]; //red
		rgb[1] = rgb[1] + data[i+1]; //green
		rgb[2] = rgb[2] + data[i+2]; //blue
		rgb[3] = rgb[3] + data[i+3]; //alpha
    }
	var len = data.length/4;
	rgb[0] = Math.floor(rgb[0]/(len));
	rgb[1] = Math.floor(rgb[1]/(len));
	rgb[2] = Math.floor(rgb[2]/(len));
	rgb[3] = Math.floor(rgb[3]/(len));
	
	context.clearRect(0, 0, canvas.width, canvas.height);
	return rgb;
}

function getComplementColor(rgb){
	for(var i=0; i<rgb.length; i++){
		if(rgb[i]>125){
			rgb[i]=0;
		} else {
			rgb[i] = 255;
		}
	}
	return rgb;
}

function getAbsolutePos(pos, canvas){
	var absPos = {"x": (pos.x * canvas[0].width),
				  "y": (pos.y * canvas[0].height),
				  "width": (pos.width * canvas[0].width),
				  "height" : (pos.height * canvas[0].height)};
	
	return absPos;
}

function getNormalizedPos(pos, canvas){
	var normalPos = {"x": (pos.x / canvas[0].width),
			  "y": (pos.y / canvas[0].height),
			  "width": (pos.width / canvas[0].width),
			  "height" : (pos.height / canvas[0].height)};


	return normalPos;
}

function indexContentNotes(canvas){
	var notes = getNearbyElement(".tagabl-notes", canvas);

	if(notes==undefined || notes.length==0){
		return;
	}
	
	
	var superParent = canvas.parents(".taggable-container");
	var propsMap = globalPropsMap[superParent.attr("id")];
	var mediaElement = superParent.find("video");
	if(mediaElement == undefined || mediaElement.length==0){
		return;
	}
	
	
	for(var i=0; i<notes.length; i++){
		if(jQuery.data(notes[i], "notesType")==null || jQuery.data(notes[i], "notesType")==undefined) {
			continue;
		}
		
		var adjustedX =jQuery.data(notes[i], "tagPos").x / (canvas[0].width);
		var adjustedY = jQuery.data(notes[i], "tagPos").y / (canvas[0].height);
		var adjustedWi = jQuery.data(notes[i], "tagPos").width / (canvas[0].width);
		var adjustedHi = jQuery.data(notes[i], "tagPos").height / (canvas[0].height);
		
		var textElm = $(notes[i]).find("textarea");
		var text = textElm[0].value;
		if(text.length==0 || text=="" || text=="Enter your notes here"){
			return;
		}
		
		if(jQuery.data(notes[i], "notesType")=="archived-updated") {
			//just update notes
			var startTime = jQuery.data(notes[i], "tagTime").startTime;
			var endTime = jQuery.data(notes[i], "tagTime").endTime
			
			var contentToUpdate  =  "{\"startTime\":\"" + startTime + "\"," +
			"\"endTime\":\"" + endTime + "\"," +
			"\"userId\":\"" + getComputedUserId(propsMap) + "\"," +
			"\"position\":{\"x\":" + adjustedX + "," +
			"\"y\":" + adjustedY + "," +
			"\"height\":" + adjustedHi +"," +
			"\"width\":" + adjustedWi + "}}";

			var newContent =  "{\"keywords\":\"" + text + "\"}";
			
			var posting = $.ajax({
				url: formUpdateContentIndexURL(indexURI, propsMap.domain, propsMap.mediasrc),
				data: "[" + contentToUpdate + "," + newContent + "]",
				type: "POST", 
				headers : {
					"Accept" : "*",
					"Content-Type" : "application/json"
				}
			});
			
		} else if(jQuery.data(notes[i], "notesType")=="cached-updated"){
			
			if(jQuery.data(notes[i], "cachedIndex")!=null){
				 propsMap.contentSelect["list"][jQuery.data(notes[i], "cachedIndex")].notes = text;
			}
			
		} else if(jQuery.data(notes[i], "notesType")=="new") {
			
			//index notes, capture pixels, add to content select list, draw content tag div
			var startTime = mediaElement[0].currentTime;
			var endTime = mediaElement[0].currentTime;
			
			var posting = $.ajax({
				url: formContentIndexURL(indexURI, propsMap.domain, propsMap.mediasrc),
				data: "{\"keywords\":\"" + text +"\", " +
				"\"startTime\":\"" + startTime + "\", " +
				"\"endTime\":\"" + endTime + "\"," +
				"\"userId\":\"" + getComputedUserId(propsMap) + "\"," +
				"\"position\":{\"x\":" + adjustedX + "," +
				"\"y\":" + adjustedY + "," +
				"\"height\":" + adjustedHi +"," +
				"\"width\":" + adjustedWi + "}}",
				type: "POST", 
				headers : {
					"Accept" : "*",
					"Content-Type" : "application/json"
				}
			});
			
			if(propsMap.contentSelect["list"]==undefined){
				propsMap.contentSelect["list"] = [];
			}
			var contentSelect = {
					"origTime":mediaElement[0].currentTime,
					"startTime":mediaElement[0].currentTime,
					"endTime":mediaElement[0].currentTime,
					"contentPos": {"x":adjustedX, "y":adjustedY, "width":adjustedWi, "height":adjustedHi},
					"markedForDel": false,
					"beingCompared":false, 
					"notes":text
			};
			capturePixels(mediaElement, contentSelect);
			drawContentTag(canvas, contentSelect.contentPos, propsMap.contentSelect["list"].length, "tagabl-newtag");
			propsMap.contentSelect["list"].push(contentSelect);
		}
		
	}
}


function capturePixels(mediaElement, contentSelect){
	var canvas = $('<canvas />').attr({
		width: mediaElement.width,
		height: mediaElement.height
	})[0];
	var context = canvas.getContext('2d');
	context.drawImage(mediaElement[0], 0, 0, canvas.width, canvas.height);
	var x = contentSelect.contentPos.x * (canvas.width);
	var y = contentSelect.contentPos.y * (canvas.height);
	var wi = contentSelect.contentPos.width * (canvas.width);
	var hi = contentSelect.contentPos.height * (canvas.height);
	contentSelect["pixels"] =  context.getImageData(x,y,wi,hi).data;
}



function indexContentSurroundings(mediaElement, propsMap){
	
	if(isNaN(mediaElement[0].duration) || mediaElement[0].duration==undefined){
		console.log("media element has no duration set");
		return;
	}
	
	var limit = 60; //sec
	var contentSelects = propsMap.contentSelect["list"];
	
	if(contentSelects==undefined){
		return;
	}

	console.log("contentSelects length: " + contentSelects.length);
	for(var i=0; i<contentSelects.length; i++){		
		if(contentSelects[i]==undefined || contentSelects[i]==null){ //if null, this contentSelect is already removed, so ignore
			console.log("contentSelects[" + i + "] is null, so continuing");
			continue;
		}
		
		if(contentSelects[i].markedForDel==true){  //if markedForDel, then make final updates to index and remove the contentSelect
			console.log("updating and cleaning");
			callUpdateContentIndex(contentSelects[i], propsMap);
			var canvas = getNearbyElement(".tagabl-canvas", mediaElement);
			removeContentTag(canvas, i, ".tagabl-newtag");
			contentSelects[i] =  null;
			console.log("contentSelects[" + i + "] is marked for del, so continuing");
			continue;
		}
		
		// in case, the timeupdate event called this method and if this contentSelect is still under comparison in the server, then it is not wise to make another server call for comparison.
		// just ignore and continue
		if(contentSelects[i].beingCompared==true){ 
			console.log("contentSelects[" + i + "] is currently being compared, so continuing");
			continue;
		}		
		
		var offset;
		var newStartTime;
		var newEndTime;
		if(contentSelects[i].origTime > mediaElement[0].currentTime){
			offset = contentSelects[i].origTime - mediaElement[0].currentTime;
			newStartTime = mediaElement[0].currentTime;
		} else {
			offset = mediaElement[0].currentTime - contentSelects[i].origTime;
			newEndTime = mediaElement[0].currentTime;
		}
		if(offset > 60) { //over the border limit
			contentSelects[i].markedForDel = true;
			console.log("contentSelects[" + i + "] is marked for del due to offset beyond 60, so continuing");
			continue;
		}
		
		var currentCapture = {};
		currentCapture.contentPos = contentSelects[i].contentPos;
		capturePixels(mediaElement, currentCapture);
		
		contentSelects[i].beingCompared = true;
		callComparePixels(contentSelects[i].pixels, currentCapture.pixels, propsMap, i, mediaElement[0].currentTime);	
	}
}

function clearCanvasRect(elm, contentPos){
	var canvas = getNearbyElement(".tagabl-canvas", elm);
	var absPos = getAbsolutePos(contentPos, canvas);
	var context = canvas[0].getContext('2d');		
	context.clearRect((absPos.x-1), (absPos.y-1), (absPos.width+2), (absPos.height+2));
	
}

function callUpdateContentIndex(contentSelect, propsMap){
	
	console.log("update index to be called");
	
	console.log("while updating: " +  "x:"+contentSelect.contentPos.x+";y:"+contentSelect.contentPos.y+";width:"+contentSelect.contentPos.width+";height:"+contentSelect.contentPos.height);
	
	var contentToUpdate  =  "{\"startTime\":\"" + contentSelect.origTime + "\"," +
				"\"endTime\":\"" + contentSelect.origTime + "\"," +
				"\"userId\":\"" + getComputedUserId(propsMap) + "\"," +
				"\"position\":{\"x\":" + contentSelect.contentPos.x + "," +
				"\"y\":" + contentSelect.contentPos.y + "," +
				"\"height\":" + contentSelect.contentPos.height +"," +
				"\"width\":" + contentSelect.contentPos.width + "}}";
	
	var newContent =  "{\"startTime\":\"" + contentSelect.startTime + "\", " +
	"\"endTime\":\"" + contentSelect.endTime + "\", " +
	"\"keywords\":\"" + contentSelect.notes + "\"" + "}";
	
	
	
	var posting = $.ajax({
		url: formUpdateContentIndexURL(indexURI, propsMap.domain, propsMap.mediasrc),
		data: "[" + contentToUpdate + "," + newContent + "]",
		type: "POST", 
		headers : {
			"Accept" : "*",
			"Content-Type" : "application/json"
		}
	});
	

	var archivedTag = {"startTime":contentSelect.startTime,
					   "endTime":contentSelect.endTime,
					   "position": {"x":contentSelect.contentPos.x,
						   "y":contentSelect.contentPos.y,
						   "height":contentSelect.contentPos.height,
						   "width":contentSelect.contentPos.width},
						"displayStatus":false};
	propsMap["archivedContentTags"].push(archivedTag);
}

var callComparePixels = function callComparePixels(data, dataToCompare, propsMap, contentSelectIndex, currentTime){
	
	if(data==undefined){
		data =  new Uint8ClampedArray(1);
	} 
	
	if(dataToCompare==undefined){
		dataToCompare = new Uint8ClampedArray(1);
	}
	
	// call service to get compare results
	var posting = $.ajax({
		url: formCompareFrameURL(indexURI),
		data: "{\"frameMap\":{\"frame1\":{\"pixelMap\":" + JSON.stringify(data) + "},\"frame2\":{\"pixelMap\":" + JSON.stringify(dataToCompare) + "}}}",
		type: "POST", 
		headers : {
			"Accept" : "*",
			"Content-Type" : "application/json"
		},
		success: function(json) {			
			if(json.compareResult=="true") {
				if(propsMap.contentSelect["list"][contentSelectIndex].startTime > currentTime) { //only if new start time is before
					propsMap.contentSelect["list"][contentSelectIndex].startTime = currentTime;
				}
				else if(propsMap.contentSelect["list"][contentSelectIndex].endTime < currentTime){  //only if new end time is after
					propsMap.contentSelect["list"][contentSelectIndex].endTime = currentTime;
				}			
			} else {
				propsMap.contentSelect["list"][contentSelectIndex].markedForDel = true;	
			}
			propsMap.contentSelect["list"][contentSelectIndex].beingCompared=false;
		},
		error: function(json){
			propsMap.contentSelect["list"][contentSelectIndex].beingCompared=false;
		}
	});
	
	
}

function canvasMouseDown(e){
	var playButton = getNearbyElement(".speechf-playbutton", $(this));
	if(playButton.prop("title")=="play" && e.which==1) { //if leftButton
		var superParent = $(this).parents(".taggable-container");
		var propsMap = globalPropsMap[superParent.attr("id")];
		if(propsMap.contentSelect.contentSelect==true){
			propsMap.contentSelect.contentSelect = false;
			return;
		}
		changeStrokeColor(playButton, propsMap);			
		//clear any content select
		propsMap.contentSelect.cornerA.x = e.offsetX;	
		propsMap.contentSelect.cornerA.y = e.offsetY;
		propsMap.contentSelect.contentSelect = false;
		propsMap.contentSelect.leftButtonDown = true;
		$(this).bind("mousemove", canvasMouseMove);
	}
}

function canvasMouseMove(e) {
	var superParent = $(this).parents(".taggable-container");
	var propsMap = globalPropsMap[superParent.attr("id")];
	if(propsMap.contentSelect.leftButtonDown){
		if(propsMap.contentSelect.cornerA.x!=null && propsMap.contentSelect.cornerA.y!=null){
			var canvas = e.currentTarget;
			if(canvas.className!="tagabl-canvas"){
				return;
			}
			
			var context = canvas.getContext('2d');
			//context.strokeStyle = "rgb(" + propsMap.contentSelect.contentStroke[0] + "," + propsMap.contentSelect.contentStroke[1] + "," + propsMap.contentSelect.contentStroke[2] + ")";
			//context.lineWidth=1;
			//context.setLineDash([5,2]);

			//if prevRect exists, clear it
			if(propsMap.contentSelect.prevRect.width!=null && propsMap.contentSelect.prevRect.height!=null){
				context.clearRect(0, 0, canvas.width, canvas.height);
			}

			//create new rect
			var width = e.offsetX-propsMap.contentSelect.cornerA.x;
			var height = e.offsetY-propsMap.contentSelect.cornerA.y;		
			if(width==0 && height==0) { 
				return;
			}
			context.fillStyle = "rgba(201,201,201, 0.3)"
			context.fillRect(propsMap.contentSelect.cornerA.x, propsMap.contentSelect.cornerA.y, width, height);
			propsMap.contentSelect.contentSelect = true;			
			
			
			//fill prevRect
			propsMap.contentSelect.prevRect.width = width;
			propsMap.contentSelect.prevRect.height = height;				
		}
	}
}

function canvasMouseUp(e) {
	if(e.which==1) { //if leftButton
		$(this).unbind('mousemove');
		
		var superParent = $(this).parents(".taggable-container");
		var propsMap = globalPropsMap[superParent.attr("id")];
		propsMap.contentSelect.leftButtonDown = false;
		if(propsMap.contentSelect.contentSelect){
			var contentText = createContentText({"x":propsMap.contentSelect.cornerA.x, 
												"y":propsMap.contentSelect.cornerA.y, 
												"width":propsMap.contentSelect.prevRect.width, 
												"height":propsMap.contentSelect.prevRect.height}, "Enter your notes here", "new", null, null);
			var controlsBase = getNearbyElement(".controls-base", $(this));
			controlsBase.before(contentText);
			propsMap.contentSelect.contentSelect = false;
			contentText.show();
		}
	}	
}



function removeCanvasNotes(canvas){
	var context = canvas[0].getContext('2d');
	context.clearRect(0, 0, canvas[0].width, canvas[0].height);
		var contentNotes = getNearbyElement(".tagabl-notes", canvas);
		for(i=0;i<contentNotes.length;i++){
			var obj = $(contentNotes[i]);
			obj.remove();
		}
}

function createTimeTag(position, indexStr){
	
	return $("<input type='image' " +
			"title=play " +
			"src=" + sliderimg + " " +
			"class='tagabl-timetag'" +
			"style='position:absolute; left:" + position.x + "; top:" + position.y +"'>" +
	"</input>");
}

function createTimeTagText(position, relativeObj, text, notesType, indexTime, indexTagMarker){
	var notes =  $("<div class='tagabl-timetagtext' style='position:absolute; z-index:4; left:" + position.x + "; top:" + position.y + "; " +
			 "opacity:0.7; background-color:000000; text-align:left; vertical-align:top; font-family:arial; font-size:10px; '>" +
			 "<textarea style='width:100; height:40; resize:none; overflow:hidden; background-color:000000; color:#ffffff;'>" + text + "</textarea>" +
			 "</div>");
	jQuery.data(notes[0], "notesType", notesType);
	jQuery.data(notes[0], "indexTime", indexTime);
	jQuery.data(notes[0], "indexMarkerObj", indexTagMarker);
	relativeObj.before(notes);
}



function createContentText(position, notesStr, notesType, time, cachedIndex){
	var notesLeftPos = position.x + position.width + 1;
	var notesTopPos = position.y + 1;
	
	var notes =  $("<div class='tagabl-notes' style='position:absolute; z-index:4; left:" + notesLeftPos + "; top:" + notesTopPos + "; " +
			"box-shadow:2px 2px 5px #888888; border:1px solid #FFFFFF; opacity:0.7'>" +
				"<textarea style='width:140; height:60; text-align:left; vertical-align:top; background-color:000000; color:#E3E3E3; font-family:arial; font-size:15px;'>" + notesStr + "</textarea>" +
			"</div>");
	
	jQuery.data(notes[0], "tagPos", position);
	if(notesType!=null){
		jQuery.data(notes[0], "notesType", notesType);
	}
	
	if(time!=null){
		jQuery.data(notes[0], "tagTime", time);
	}
	
	if(cachedIndex!=null){
		jQuery.data(notes[0], "cachedIndex", cachedIndex);
	}
	
	return notes;
}

function createSuperParent(userObj, propsMap, replaceWithSuperParent) {
	var superParent = $("<div class='taggable-container' id=" + mediaIndexKey + "/>");

	//adjust super parent's position
	superParent.css("left", $(userObj).css("left"));
	superParent.css("top", $(userObj).css("top"));
	superParent.css("position", "absolute");
	superParent.css("box-shadow", "2px 2px 5px #888888");


	var mediaObj = $(userObj).clone();
	var mediaElm = createMediaElement(mediaObj, propsMap);
	mediaElm.appendTo(superParent);

	var controlsBase = createControlsBase(propsMap);
	controlsBase.appendTo(superParent);
	
	
	//add canvas only for video
	if(propsMap.tagName=="video"){
		var canvas = createMediaCanvas({'top':mediaElm.position().top,
			'left':mediaElm.position().left,
			'height':propsMap.height,
			'width':propsMap.width});
		controlsBase.before(canvas);
	}
	
	//callback
	replaceWithSuperParent(userObj, superParent);
}

function loadIndexTags(controlsBase, propsMap){
	var posting = $.ajax({
		url: formAllIndexTagURL(indexURI, propsMap.domain, propsMap.mediasrc, getComputedUserId(propsMap)),
		type: "GET", 
		headers : {
			"Accept" : "application/json"
		},
		success: function(json) {
			var progressBar = getNearbyElement(".progress-bar", controlsBase);
			var mediaElm = getNearbyMediaElement(progressBar);
			for(var i=0; i<json.length; i++){
				var leftPos = getIndexMarkerPosition((mediaElm[0].duration), json[i].startTime, jQuery.data(progressBar[0], "origWidth"));
				createIndexMarker(controlsBase, leftPos, {"startTime":json[i].startTime, "endTime":json[i].endTime});
			}			
		},
		error: function(json){
			console.log("error while fetching archived index tags");
		}
	});		
}

//This function derives properties from user's video/audio object into an associative array
//returns null in case if it finds problem in deriving properites out of the user object
function deriveProperties(userObj) {
	var sourceElement = $(userObj).find("source");
	if(sourceElement.length===0) {
		return null;
	}

	var propsMap = {};
	propsMap.tagName = userObj.tagName.toLowerCase();
	propsMap.mediasrc = $(sourceElement[0]).attr("src");
	propsMap.domain = document.domain;
	propsMap.width = $(userObj).attr("width");
	if(propsMap.width===undefined) {
		propsMap.width = $(userObj).css("width");
		if(propsMap.width===undefined) {
			propsMap.width = defaultMediaWidth;
		}
	}
	propsMap.height = $(userObj).attr("height");
	if(propsMap.height===undefined) {
		propsMap.height = $(userObj).css("height");
		if(propsMap.height===undefined) {
			propsMap.height="auto";
		}
	}
	propsMap.mediaIndex = mediaIndexKey;
	propsMap.left = $(userObj).css("left");
	propsMap.top = $(userObj).css("top");
	propsMap.position = $(userObj).css("position");
	initContentSelectProps(propsMap);
	propsMap["archivedContentTags"] = [];
	return propsMap;
}

function getArchivedContentTags(propsMap){
	var posting = $.ajax({
		url: formAllContentTagURL(indexURI, propsMap.domain, propsMap.mediasrc, getComputedUserId(propsMap)),
		type: "GET", 
		headers : {
			"Accept" : "application/json"
		},
		success: function(json) {
			for(var i=0; i<json.length; i++){
				json[i]["displayStatus"] = false; //indicates whether the contentTag is displayed currently.
			}
			
			propsMap["archivedContentTags"].push.apply(propsMap["archivedContentTags"], json);
		},
		error: function(json){
			console.log("error while fetching archived content tags");
		}
	});		
}

function fetchAndDisplayContentNotes(propsMap, archivedContentTagIndex, superParent){
	var archivedContentTag = propsMap.archivedContentTags[archivedContentTagIndex];
	var posting = $.ajax({
		url: formSearchByFeildURL(indexURI, propsMap.domain, propsMap.mediasrc),
		type: "POST", 
		data: "[{\"fieldName\":\"START_TIME\",\"value\":\"" + archivedContentTag.startTime + "\"}," +
				"{\"fieldName\":\"END_TIME\",\"value\":\"" + archivedContentTag.endTime + "\"}," +
				"{\"fieldName\":\"USER_ID\",\"value\":\"" + getComputedUserId(propsMap) + "\"}," +
				"{\"fieldName\":\"CONTENT_POSX\",\"value\":\""+ archivedContentTag.position.x +"\"}," +
				"{\"fieldName\":\"CONTENT_POSY\",\"value\":\"" + archivedContentTag.position.y +"\"}," +
				"{\"fieldName\":\"CONTENT_WIDTH\",\"value\":\"" + archivedContentTag.position.width + "\"}," +
				"{\"fieldName\":\"CONTENT_HEIGHT\",\"value\":\"" + archivedContentTag.position.height +"\"}," +
				"{\"fieldName\":\"WORD\",\"value\":null}]",
		headers : {
			"Accept" : "*",
			"Content-Type" : "application/json"
		},
		success: function(json) {
			var text = null;
			for(var i=0; i<json.length; i++){
				if(json[i].length==0){
					break;
				}
				for(var j=0; j<json[i].length; j++){
					if(json[i][j]["fieldName"]!=undefined && json[i][j]["fieldName"]=="WORD"){
						text = json[i][j]["value"];
						break;
					}		
				}
				break;
			}
			
			var canvas = superParent.find(".tagabl-canvas");
			displayContentNotes(canvas, archivedContentTag.position, text, {"startTime":archivedContentTag.startTime, "endTime":archivedContentTag.endTime}, "archived", null);
		},
		error: function(json){
			console.log("error while fetching archived content tag");
		}
	});		
}

function displayContentNotes(canvas, position, text, time, notesType, cachedIndex){
	var absPos = getAbsolutePos(position, canvas);
	var contentText = createContentText(absPos, text, notesType, time, cachedIndex);
	var controlsBase = getNearbyElement(".controls-base", canvas);
	controlsBase.before(contentText);
	contentText.show();
}

function initContentSelectProps(propsMap){
	propsMap.contentSelect = new Object();
	propsMap.contentSelect.leftButtonDown = false;
	propsMap.contentSelect.cornerA={'x':null,'y':null};
	propsMap.contentSelect.prevRect = {'cornerA': propsMap.contentSelect.cornerA, 'width':null, 'height':null};
	propsMap.contentSelect.contentSelect = false;
	propsMap.contentSelect.contentStroke = [0,0,0];
}


function createMediaCanvas(props) {
	return $("<div></div><canvas class='tagabl-canvas' width=" +  props.width + " height=" + props.height +" style='position:absolute;z:index:3;top:" + props.top + "; left:" + props.left + "'></canvas>");
}


function fullscreen(fullscreenButton) {
	var mediaElement = getNearbyMediaElement(fullscreenButton);	
	if(mediaElement.attr("class")!="taggable-video") {
		return;
	}	

	if(fullscreenButton.attr("title")=="fullscreen") {
		if($.isFunction(mediaElement[0].webkitEnterFullscreen)){

			//adjust super parent
			var superParent = fullscreenButton.parents(".taggable-container");
			superParent.css("left", 0);
			superParent.css("top", 50);
			superParent.css("background-color", "black");

			//adjust media element
			mediaElement.css("width", screenW);
			mediaElement.css("height", screenH);

			// adjust controls-base
			var controlsBase = getNearbyElement(".controls-base", fullscreenButton);
			controlsBase.css("width", screenW);
			setControlsBasePos(screenH, controlsBase)
			//arrangeControlsBase(controlsBase, true);
			

			//adjust border-width and widh of progressBar			
			var progressBar = getNearbyElement(".progress-bar", fullscreenButton);
			adjustProgressBar(progressBar, screenW);
			
			//adjust canvas
			var canvas = getNearbyElement(".tagabl-canvas", fullscreenButton);
			canvas.css("top", mediaElement.position().top);
			canvas.css("left", mediaElement.position().left);
			canvas.attr("width", screenW);
			canvas.attr("height", screenH);
			
			//adjust content tags if any
			adjustContentTags(superParent, true, ".tagabl-archivedtag, .tagabl-newtag");
			
			//adjust index tag markers
			var indexMarkers = getNearbyElement(".tagabl-indexMarker", canvas);
			for(var i=0; i<indexMarkers.length; i++){
				var startTime = jQuery.data(indexMarkers[i], "indexTime").startTime;
				var leftPos = getIndexMarkerPosition((mediaElement[0].duration), startTime, jQuery.data(progressBar[0], "origWidth"));
				$(indexMarkers[i]).css("left", leftPos);
			}
			

			//make fullscreen request
			document.webkitCancelFullScreen(); 
			superParent[0].webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
			fullscreenButton.attr("title" , "minscreen");

		}
	}
}

function minscreen(minscreenButton) {
	var mediaElement = getNearbyMediaElement(minscreenButton);	
	if(mediaElement.attr("class")!="taggable-video") {
		return;
	}

	if(minscreenButton.attr("title")=="minscreen") {
		if($.isFunction(mediaElement[0].webkitEnterFullscreen)){
			var superParent = minscreenButton.parents(".taggable-container");
			var propsMap = globalPropsMap[superParent.attr("id")];

			//adjust controlsBase
			var controlsBase = getNearbyElement(".controls-base", minscreenButton);
			controlsBase.css("width", propsMap.width);	
			setControlsBasePos(propsMap.height.replace("px", ""), controlsBase);
			//arrangeControlsBase(controlsBase, false);

			//adjust border-width and widh of progressBar
			var progressBar = getNearbyElement(".progress-bar", minscreenButton);
			adjustProgressBar(progressBar, propsMap.width.replace("px", ""));
			
			//adjust mediaElement
			mediaElement.css("width", propsMap.width);
			mediaElement.css("height", propsMap.height);
			
			//adjust canvas
			var canvas = getNearbyElement(".tagabl-canvas", minscreenButton);
			canvas.attr("width", propsMap.width);
			canvas.attr("height", propsMap.height);
			
			//adjust content tags if any
			adjustContentTags(superParent, false, ".tagabl-archivedtag, .tagabl-newtag");
			
			//adjust index tag markers
			var indexMarkers = getNearbyElement(".tagabl-indexMarker", canvas);
			for(var i=0; i<indexMarkers.length; i++){
				var startTime = jQuery.data(indexMarkers[i], "indexTime").startTime;
				var leftPos = getIndexMarkerPosition((mediaElement[0].duration), startTime, jQuery.data(progressBar[0], "origWidth"));
				$(indexMarkers[i]).css("left", leftPos);
			}

			//adjust super parent
			//superParent.css("width", propsMap.width);
			superParent.css("left", propsMap.left);
			superParent.css("top", propsMap.top); 
			superParent.css("box-shadow", "2px 2px 5px #888888");

			//exit fullscreen
			document.webkitCancelFullScreen(); 
			minscreenButton.attr("title" , "fullscreen");
		}
	}
}


function adjustProgressBar(progressBar, playerWidth){
	
	var newProgressBarWidth = getProgressBarWidth(playerWidth);
	var seekedBar = progressBar.find(".seeked-bar");
	var seekableBar = progressBar.find(".seekable-bar");
	
	if(seekedBar.length!=0){
		var seekedWidth = seekedBar.css("width").replace("px", "");
		var percentage = seekedWidth/jQuery.data(progressBar[0], "origWidth");			
		seekedWidth = percentage * (newProgressBarWidth);
		seekedBar.css("width", seekedWidth);
	}	
	if(seekableBar.length!=0){
		var seekableWidth = seekableBar.css("width").replace("px", "");
		percentage = seekableWidth/jQuery.data(progressBar[0], "origWidth");			
		seekableWidth = percentage * (newProgressBarWidth);
		seekableBar.css("width", seekableWidth);
	}	
	progressBar.css("width" ,newProgressBarWidth);
	jQuery.data(progressBar[0], "origWidth", newProgressBarWidth);
}

function arrangeControlsBase(controlsBase, fullscreenMode) {

	var maxWidth;
	var searchTextWidth;
	var controls;
	var searchBoxElems;
	if(fullscreenMode) {
		maxWidth = controlsBase.css("width");
		maxWidth = maxWidth.replace("px", "");
		var center = (maxWidth/2);
		searchTextWidth = 0.30 * (maxWidth);
		controls = controlsBase.children();
		var adjustedSearchBoxWidth; 
		for(i=0; i<controls.length; i++) {
			if(controls[i].className=="speechf-searchBox"){
				searchBoxElems = $(controls[i]).children();
				for(j=0; j<searchBoxElems.length; j++) {
					if(searchBoxElems[j].className == "speechf-searchText"){
						$(searchBoxElems[j]).css("width", searchTextWidth);
					}					
				}
				adjustedSearchBoxWidth = $(controls[i]).css("width");
			}
		}

		for(i=0; i<controls.length; i++) {
			if(controls[i].className=="speechf-playbutton"){
				adjustedSearchBoxWidth = adjustedSearchBoxWidth.replace("px", "");
				$(controls[i]).css("margin-left", (center-(adjustedSearchBoxWidth/2)));
			}
		}
	} else {
		maxWidth = controlsBase.css("width");
		maxWidth = maxWidth.replace("px", "");
		searchTextWidth = maxWidth - 170;

		controls = controlsBase.children();

		for(i=0; i<controls.length; i++) {
			if(controls[i].className=="speechf-searchBox"){
				searchBoxElems = $(controls[i]).children();
				for(j=0; j<searchBoxElems.length; j++) {
					if(searchBoxElems[j].className == "speechf-searchText"){
						$(searchBoxElems[j]).css("width", searchTextWidth);
					}
				}
			} else if(controls[i].className=="speechf-playbutton"){
				$(controls[i]).css("margin-left", 0);
			}
		}
	}

}

function adjustContentTags(superParent, fullscreenmode, classSelector){
	
	var propsMap = globalPropsMap[superParent.attr("id")];
	var tags = superParent.find(classSelector);
	for(var i=0; i<tags.length; i++){
		var jObj = $(tags[i]);
		var left = jObj.css("left");
		left = left.replace("px", "");
		var top = jObj.css("top");
		top = top.replace("px", "");
		var width = jObj.css("width");
		width = width.replace("px", "");
		var height = jObj.css("height");
		height = height.replace("px", "");
	
		var percentage;
		var curWidth;
		var maxWidth;
		var curHeight;
		var maxHeight;
		
		if(fullscreenmode){
			curWidth = propsMap.width.replace("px","");
			maxWidth = screenW;
			curHeight = propsMap.height.replace("px","");
			maxHeight = screenH;
		} else {
			curWidth = screenW;
			maxWidth = propsMap.width.replace("px","");
			curHeight = screenH;
			maxHeight = propsMap.height.replace("px","");
		}

		percentage = left/curWidth;			
		jObj.css("left", (percentage*(maxWidth))); //adjust left
		percentage = top/curHeight;			
		jObj.css("top", (percentage*(maxHeight))); //adjust top
		percentage = width/curWidth;			
		jObj.css("width", (percentage*(maxWidth))); //adjust width
		percentage = height/curHeight;			
		jObj.css("height", (percentage*(maxHeight))); //adjust width
			
	}
	
}


function adjustSearchResults(superParent, fullscreenMode) {

	var results = superParent.find("[class|='speechfresult']");
	var snippets = superParent.find("[class|='speechfsnippet']");
	var progressBar = superParent.find(".progress-bar");
	var propsMap = globalPropsMap[superParent.attr("id")];

	for(var i=0; i<results.length; i++) {
		var jObj = $(results[i]);
		var left = jObj.css("left");
		left = left.replace("px", "");
		var adjustedLeftPos;
		var maxWidth;
		var percentage;
		if(fullscreenMode) {
			var curWidth = propsMap.width;
			curWidth = curWidth.replace("px", "");
			percentage = left/curWidth;
			maxWidth = screenW;
			adjustedLeftPos = percentage * (maxWidth);
		} else {
			percentage = left/(screenW);
			maxWidth = propsMap.width;
			maxWidth = maxWidth.replace("px", "");
			adjustedLeftPos = percentage * (maxWidth);
		}
		jObj.css("left", adjustedLeftPos);

		//adjust snippet pos
		var snippet = snippetSelector(jObj);
		if(snippet===undefined || snippet===null) {
			continue;
		}
		var snippetTop = progressBar.position().top -65;
		var snippetLeft = jObj.position().left - 30;
		var snippetWidth = 90;

		maxWidth = parseInt(maxWidth,10);
		if((snippetLeft + snippetWidth)>maxWidth) {
			snippetLeft = snippetLeft - (snippetLeft + snippetWidth - maxWidth) - 2;
		} else if (snippetLeft<0) {
			snippetLeft = 2;
		}
		snippet.css("top", snippetTop);
		snippet.css("left", snippetLeft);	
	}
}


function formSearchByFeildURL(indexURI, domain, mediaId) {
	return indexURI + "/searchByFeilds?domain=" + domain + "&mediaId=" + mediaId;
}

function formAllIndexTagURL(indexURI, domain, mediaId, userId) {
	return indexURI + "/allIndexTags?domain=" + domain + "&mediaId=" + mediaId + "&userId=" + userId;
}

function formAllContentTagURL(indexURI, domain, mediaId, userId) {
	return indexURI + "/allContentTags?domain=" + domain + "&mediaId=" + mediaId + "&userId=" + userId;
}

function formContentIndexURL(indexURI, domain, mediaId) {
	return indexURI + "/tagContent?domain=" + domain + "&mediaId=" + mediaId;
}

function formUpdateContentIndexURL(indexURI, domain, mediaId) {
	return indexURI + "/updateContent?domain=" + domain + "&mediaId=" + mediaId;
}

function formUpdateIndexURL(indexURI, domain, mediaId) {
	return indexURI + "/updateIndexTag?domain=" + domain + "&mediaId=" + mediaId;
}

function formCompareFrameURL(indexURI) {
	return indexURI + "/compareFrame";
}

function formIndexURL(indexURI, domain, mediaId) {
	return indexURI + "/tag?domain=" + domain + "&mediaId=" + mediaId;
}

function formSearchURL(indexURI, domain, mediaId, keywords) {
	return indexURI + "/search?domain=" + domain + "&mediaId=" + mediaId + "&keywords=" + keywords;
}


function getMinutes(sec) {
	sec = sec/60;
	sec = sec.toFixed(2);
	return sec;
}



function addMediaEvents(elm) {
	$(elm)[0].addEventListener("ended", function(){
		var playButton = getNearbyElement(".speechf-playbutton", $(elm));
		playButton.prop("src",  playimg);
		playButton.prop("title", "play");
	});

	$(elm)[0].addEventListener("timeupdate", function(){
		var mediaDuration =  $(elm)[0].duration;
		var currentTime = $(elm)[0].currentTime;
		var percentage = currentTime/mediaDuration;	
		var controlsBase = getNearbyElement(".controls-base", $(elm));	
		var progressBar = getNearbyElement(".progress-bar", $(elm));	
		var progressBarOrigWidth = jQuery.data(progressBar[0], "origWidth");
		progressBarOrigWidth = progressBarOrigWidth;
		var borderWidth = (percentage*progressBarOrigWidth);
		
		//adjust seeked bar
		var seekedBar = progressBar.find(".seeked-bar");
		for(var i=0; i<seekedBar.length; i++){
			seekedBar[i].remove();
		}
		seekedBar = $("<div class='seeked-bar' style='position:absolute; height:15; width:" + borderWidth  + "; " +
					"background-color:red; float:left; z-index:2'>" +
					"</div>")
		progressBar.append(seekedBar);
		
		//check for content select surrounding frames and if required adjust index
		var superParent = $(elm).parents(".taggable-container");
		var propsMap = globalPropsMap[superParent.attr("id")];	
		if(propsMap.contentSelect["lastCheckTime"]==undefined){
			propsMap.contentSelect["lastCheckTime"] = $(elm)[0].currentTime;
		}
		
		/*var offset =  $(elm)[0].currentTime -  propsMap.contentSelect["lastCheckTime"];
		if(offset>3 || offset<-3){ //if current time has been more than 3 sec since the last check time
			indexContentSurroundings($(elm), propsMap);
			propsMap.contentSelect["lastCheckTime"] = $(elm)[0].currentTime;
		}*/
		
		//check if any archived content tags can be displayed or hidden at this time.
		var len = 0;
		if(propsMap["archivedContentTags"]!=undefined){
			len = propsMap["archivedContentTags"].length;
		}
		var canvas = superParent.find(".tagabl-canvas");
		for(var i=0; i<len; i++){
			if(propsMap["archivedContentTags"][i].displayStatus==false &&
					propsMap["archivedContentTags"][i].startTime <=currentTime && 
					propsMap["archivedContentTags"][i].endTime >=  currentTime) {
				drawContentTag(canvas, propsMap["archivedContentTags"][i].position, i, "tagabl-archivedtag");
				propsMap["archivedContentTags"][i].displayStatus=true;
			} else if(propsMap["archivedContentTags"][i].displayStatus==true &&
					(propsMap["archivedContentTags"][i].startTime > currentTime || 
					propsMap["archivedContentTags"][i].endTime <  currentTime)) {
				removeContentTag(canvas, i, ".tagabl-archivedtag");
				propsMap["archivedContentTags"][i].displayStatus=false;
			}
		}		
	});
	
	$(elm)[0].addEventListener("progress", function(){
		var mediaDuration =  $(elm)[0].duration;
		var progressBar = getNearbyElement(".progress-bar", $(elm));	
		var progressBarOrigWidth = jQuery.data(progressBar[0], "origWidth");
		
		//adjust seekable bar
		var seekableBar = progressBar.find(".seekable-bar");
		for(var i=0; i<seekableBar.length; i++){
			seekableBar[i].remove();
		}
		
		if(this.buffered==undefined || this.buffered.end==undefined || this.buffered.end.length==0){
			return;
		}
		
		var seekableTime = this.buffered.end(0);
		var percentage = seekableTime/mediaDuration;	
		var seekableWidth =  (percentage*progressBarOrigWidth);
		seekableBar = $("<div class='seekable-bar' style='position:absolute; height:15; width:" + seekableWidth  + "; " +
					"background-color:D4D4D4; z-index=-1;'>" +
					"</div>")
		progressBar.append(seekableBar);
	});
	
}



function getNearbyElement(className, elm) {
	var superparent = elm.parents(".taggable-container");
	return superparent.find(className);
}

function getNearbyMediaElement(elm) {
	var mediaElement = getNearbyElement("audio", elm);	
	if(mediaElement.length===0) {
		mediaElement = getNearbyElement("video", elm);	
	}

	if(mediaElement.length===0) {
		return;
	}

	return mediaElement;
}

function findMediaElement(parent) {
	var mediaElement = parent.find("audio");	
	if(mediaElement.length===0) {
		mediaElement = parent.find("video");
	}
	if(mediaElement.length===0) {
		return;
	}

	return mediaElement;
}


function isSpeechfComponent(elm) {

	var superparent = elm.parents(".taggable-container");
	if(typeof(superparent)==='undefined' || superparent.length===0) {
		return false;
	}
	return true;
}


function createSearchBox(propsMap) {
	var progressBarWidth = propsMap.width;
	progressBarWidth = progressBarWidth.replace("px", "");
	var width = progressBarWidth-170;
	return $("<div class='speechf-searchBox' style='margin-left:10px; margin-top:4px; margin-left:10px; float:left; background:#fff; '>" +
			"<input class='speechf-searchText' type='text' style='width:" + width + "; height:27px;" +
			"outline:none; font-family:Lucida Console, Monaco5, monospace; font-size:small;border:none;background:#fff; float:left; '></input>" +
			"<img src=" + searchBoxDividerImg + " style='float:left; border:none;  height:15; margin-top:7px'></img>" +
			"<input class='speechf-searchButton' type='submit' title='searchButton' style='background: url(" + searchButtonImg+ ") no-repeat center left; border:none; width:25; height:27; margin-left:3px; float:left;'  value=''></input>" +
			"<input class='speechf-writeButton' type='submit' title='writeButton' style='background: url(" + writeButtonImg + ") no-repeat top left; border:none; width:35; height:27; margin-left:6px;'  value=''></input>" +

	"</div>");
}

function createScreenAdjust(propsMap) {
	return $("<input type='image' " +
			"src=" + fullscreenimg + " " +
			"title=fullscreen " +
			"class='speechf-fullscreen'" +
			"style='float:left;  margin-top:4px; margin-left:8px'>" +
	"</input>");
}

function createPlayButton(controlsBase) {

	return $("<input type='image' " +
			"title=play " +
			"src=" + playimg + " " +
			"class='speechf-playbutton'" +
			"style='float:left;  margin-top:4px; margin-left:6px;'>" +
	"</input>");
}

function createIndexMarker(controlsBase, left, indexTime) {
	var indexMarker = 
		$("<div class='tagabl-indexMarker' style='opacity:0.7; position:absolute; height:2; border-style:solid; " +
				"border-width:5px; border-color:#ffffff; float:left; left:" + left + "; margin-top:5px; z-index:2'></div>");
	jQuery.data(indexMarker[0], "indexTime", indexTime);
	controlsBase.append(indexMarker);
	return indexMarker;
}

function getIndexMarkerPosition(mediaElmDuration, startTime, progressBarWidth){
	var percentage = startTime/mediaElmDuration;
	return percentage * progressBarWidth;
}


function createMediaElement(mediaObj, propsMap) {
	
	mediaObj.attr('width', propsMap.width);
	mediaObj.attr('height', propsMap.height);	
	mediaObj.css("left", "");
	mediaObj.css("top", "");
	mediaObj.css("position", "");
	if(mediaObj[0].tagName=="AUDIO") {
		mediaObj.attr("class", "taggable-audio");
	} else {
		mediaObj.attr("class", "taggable-video");
	}
	
	return mediaObj;
}

function createBrokenMedia(propsMap) {
	if(!supportedFormat(propsMap.mediasrc) || !supportedBrowser()) {

		var brokenVideo;
		if(!supportedBrowser()) {
			brokenVideo = $("<div style='background-color:black; color:grey; text-align:center; font-size:x-small; font-family:Arial, Helvetica, sans-serif;'>" +
			"Sorry :( , Unsupported browser detected. <br/> The SPEECHF HTML5 Media player currently supports only Chrome.</div>");
		} else if(!supportedFormat(src)){
			brokenVideo = $("<div style='background-color:black; color:grey; text-align:center; font-size:x-small; font-family:Arial, Helvetica, sans-serif;'>" +
			"Sorry :( , This HTML5 media player does not supports your media file. <br/> The supported media formats are ogg, mp4 and webm.</div>");
		}

		brokenVideo.css("width", propsMap.width);
		brokenVideo.css("height", propsMap.mediaHeight);
		mediaObj.remove();
		brokenVideo.appendTo(superParent);

		var height = propsMap.mediaHeight.replace("px", "");
		var brokenMesTop = brokenVideo.offset().top + (height/2);		
		var width = propsMap.width.replace("px", "");
		var brokenMesLeft = brokenVideo.offset().left + (width/2);		
		var brokenMes = $("<div style='font-size:x-small; font-family:Arial, Helvetica, sans-serif; left:" + brokenMesLeft + "; top:" + brokenMesTop + " color:grey;'>Sorry :( , This HTML5 media player does not supports this media file.</div>");
		brokenVideo.innerHTML = "<div style='background-color:black; color:grey;'>hello</div>";
		return;
	}
}

function supportedBrowser() {
	if($.browser.webkit) {
		return true;
	}
	return false;
}

function supportedFormat(src) {
	if(src.indexOf(".mp4")!=-1 || src.indexOf(".m4a")!=-1 || src.indexOf(".m4b")!=-1 || src.indexOf(".m4v")!=-1 ||
			src.indexOf(".ogg")!=-1 || src.indexOf(".oga")!=-1 || src.indexOf(".ogv")!=-1 || src.indexOf(".ogx")!=-1 || 
			src.indexOf(".webm")!=-1) {
		return true;
	}

	return false;
}



function createControlsBase(propsMap) {
	var controlsBase = $("<div class='controls-base' style='position:absolute; height:23px;'>"  +
	"</div>");
	if(propsMap.hasOwnProperty("width")) {
		controlsBase.css("width", propsMap.width);
	} else {
		controlsBase.css("width", defaultMediaWidth);
	}

	var playButton = createPlayButton();
	controlsBase.append(playButton);
	
	var progressBar = createProgressBar(propsMap);
	controlsBase.append(progressBar);
	
	var screenAdjust = createScreenAdjust(propsMap);
	controlsBase.append(screenAdjust);
	
	setControlsBasePos(propsMap.height.replace("px", ""), controlsBase);
	return controlsBase;
}

function setControlsBasePos(mediaElmHeight, controlsBase){
	var top = mediaElmHeight  - controlsBase.css("height").replace("px", "") -1;
	controlsBase.css("top", top);
}

function createProgressBar(propsMap) {
	var width = getProgressBarWidth(propsMap.width.replace("px",""));
	var progressBar = $("<div class='progress-bar' style='height:15; width:" + width  + "; " +
			"margin-left:11px; float:left; margin-top:3px; border:1px solid black;'>" +
	"</div>");
	jQuery.data(progressBar[0], "origWidth", width);
	return progressBar;
}

function getProgressBarWidth(superParentWidth){
	return superParentWidth-80;
}

function endsWith(line, pattern)  {
	var index = line.length - pattern.length;
	if(index>=0 && line.lastIndexOf(pattern)==index) {
		return true;
	} else {
		return false;
	}
}
